#! /bin/bash

touchpad_runtime_file="$HOME/bin/runtime/touchpad"
enable_tapping_runtime_file="$HOME/bin/runtime/enableTapping"
enable_natural_scrolling_runtime_file="$HOME/bin/runtime/enableNaturalScrolling"

if ! [ -z "$1" ] && [ "$1" = "--reset" ]; then
  `rm -r "$enable_tapping_runtime_file"`
  `rm -r "$enable_natural_scrolling_runtime_file"`
fi

touchpad=`cat "$touchpad_runtime_file"`
enableTapping=`cat "$enable_tapping_runtime_file"`
enableNaturalScrolling=`cat "$enable_natural_scrolling_runtime_file"`

if [ -z "$enableTapping" ]; then
  echo -e "0\n1" | rofi -dmenu -p "Enable Tapping? " > "$enable_tapping_runtime_file"
fi

if [ -z "$enableNaturalScrolling" ]; then
  echo -e "0\n1" | rofi -dmenu -p "Enable Natural Scrolling? " > "$enable_natural_scrolling_runtime_file" 
fi

xinput set-prop "$touchpad" "libinput Tapping Enabled" `cat "$enable_tapping_runtime_file"`
xinput set-prop "$touchpad" "libinput Natural Scrolling Enabled" `cat "$enable_natural_scrolling_runtime_file"`


